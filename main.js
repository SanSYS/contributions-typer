var abc = {
    a: [
        [0,0,0,0,0,0],
        [0,0,1,0,0,0],
        [0,1,0,1,0,0],
        [0,1,1,1,0,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [0,0,0,0,0,0], ],
    b: [
        [0,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,1,1,1,0],
        [1,0,0,1,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    c: [
        [0,0,0,0,0],
        [1,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    d: [
        [0,0,0,0,0],
        [0,0,0,1,0],
        [0,0,0,1,0],
        [1,1,1,1,0],
        [1,0,0,1,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    e: [
        [0,0,0,0,0],
        [1,1,1,1,0],
        [1,0,0,0,0],
        [1,1,1,0,0],
        [1,0,0,0,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    f: [
        [0,0,0,0,0],
        [1,1,1,1,0],
        [1,0,0,0,0],
        [1,1,1,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [0,0,0,0,0], ],
    g: [
        [0,0,0,0,0],
        [1,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,1,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    h: [
        [0,0,0,0,0],
        [1,0,0,1,0],
        [1,0,0,1,0],
        [1,1,1,1,0],
        [1,0,0,1,0],
        [1,0,0,1,0],
        [0,0,0,0,0], ],
    i: [
        [0,0,0,0,0],
        [0,1,1,1,0],
        [0,0,1,0,0],
        [0,0,1,0,0],
        [0,0,1,0,0],
        [0,1,1,1,0],
        [0,0,0,0,0], ],
    j: [
        [0,0,0,0,0],
        [1,1,1,1,0],
        [0,0,1,0,0],
        [0,0,1,0,0],
        [1,0,1,0,0],
        [0,1,0,0,0],
        [0,0,0,0,0], ],
    k: [
        [0,0,0,0,0],
        [1,0,1,0,0],
        [1,1,0,0,0],
        [1,1,0,0,0],
        [1,0,1,0,0],
        [1,0,0,1,0],
        [0,0,0,0,0], ],
    l: [
        [0,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,1,1,1,0],
        [0,0,0,0,0], ],
    m: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [1,1,0,1,1,0],
        [1,0,1,0,1,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [0,0,0,0,0,0], ],
    n: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [1,1,0,0,1,0],
        [1,0,1,0,1,0],
        [1,0,0,1,1,0],
        [1,0,0,0,1,0],
        [0,0,0,0,0,0], ],
    o: [
        [0,0,0,0,0],
        [0,1,1,0,0],
        [1,0,0,1,0],
        [1,0,0,1,0],
        [1,0,0,1,0],
        [0,1,1,0,0],
        [0,0,0,0,0], ],
    p: [
        [0,0,0,0,0],
        [1,1,1,0,0],
        [1,0,0,1,0],
        [1,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [0,0,0,0,0], ],
    q: [
        [0,0,0,0,0,0],
        [0,0,1,1,1,0],
        [0,1,0,0,1,0],
        [0,1,0,0,1,0],
        [0,0,1,1,1,0],
        [0,0,0,0,1,0],
        [0,0,0,0,1,0], ],
    r: [
        [0,0,0,0,0],
        [1,1,1,0,0],
        [1,0,0,1,0],
        [1,1,1,0,0],
        [1,1,0,0,0],
        [1,0,1,0,0],
        [0,0,0,0,0], ],
    s: [
        [0,0,0,0,0,0],
        [1,1,1,1,1,0],
        [1,0,0,0,0,0],
        [0,1,1,1,0,0],
        [0,0,0,0,1,0],
        [1,1,1,1,0,0],
        [0,0,0,0,0,0], ],
    t: [
        [0,0,0,0,0,0],
        [1,1,1,1,1,0],
        [0,0,1,0,0,0],
        [0,0,1,0,0,0],
        [0,0,1,0,0,0],
        [0,0,1,0,0,0],
        [0,0,0,0,0,0], ],
    u: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [0,1,1,1,0,0],
        [0,0,0,0,0,0], ],
    v: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [0,1,0,1,0,0],
        [0,1,0,1,0,0],
        [0,0,1,0,0,0],
        [0,0,0,0,0,0], ],
    w: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [1,0,0,0,1,0],
        [1,0,1,0,1,0],
        [1,0,1,0,1,0],
        [0,1,1,1,0,0],
        [0,0,0,0,0,0], ],
    x: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [0,1,0,1,0,0],
        [0,0,1,0,0,0],
        [0,1,0,1,0,0],
        [1,0,0,0,1,0],
        [0,0,0,0,0,0], ],
    a: [
        [0,0,0,0,0,0],
        [1,0,0,0,1,0],
        [0,1,0,1,0,0],
        [0,0,1,0,0,0],
        [0,1,0,0,0,0],
        [1,0,0,0,0,0],
        [0,0,0,0,0,0], ],
    z: [
        [0,0,0,0,0,0],
        [1,1,1,1,1,0],
        [0,0,0,1,0,0],
        [0,0,1,0,0,0],
        [0,1,0,0,0,0],
        [1,1,1,1,1,0],
        [0,0,0,0,0,0], ],
    '!': [
        [0,0,0],
        [0,1,0],
        [0,1,0],
        [0,1,0],
        [0,0,0],
        [0,1,0],
        [0,0,0], ],
    ',': [
        [0,0,0],
        [0,0,0],
        [0,0,0],
        [0,0,0],
        [0,0,0],
        [0,1,0],
        [0,1,0], ],
    ' ': [
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0], ],
};

Date.prototype.addDays = function(days) {
  var dat = new Date(this.valueOf());
  dat.setDate(dat.getDate() + days);
  return dat;
}

function padZero(n) {
    if (n < 10) 
        return '0' + n;
    
    return n;
}

function inputChanged(){
    var domDate = document.getElementById('date');
    var domText = document.getElementById('text');
    var domLog = document.getElementById('log');

    if (!domText.value){
        domLog.value = 'Enter text';
        return;
    }

    if (!domDate.value){
        domLog.value = 'Enter date yyyy-MM-dd';
        return;
    }

    var res = getCommands(domText.value, domDate.value)

    domLog.value = res;
}

function getCommands(str, dateFrom){
    var d = new Date(dateFrom);

    var res = '';

    for (var ch = 0; ch < str.length; ch++) {
        var c = abc[str[ch].toLowerCase()];

        if (!c){
            return 'Char <' + str[ch] + '> not supported!';
        }

        for (var i = 0; i < c[0].length; i++)
        for (var j = 0; j < c.length; j++)
        {
            if (c[j][i]) {
                var strD = '' + padZero(d.getDate()) + '-' + padZero(d.getMonth() + 1) + '-' + d.getFullYear();
                res += 'date ' + strD + '\n\r';
                res += 'echo "' + strD + '" >> README.md' + '\n\r';
                res += 'git add README.md' + '\n\r';
                res += 'git commit -m "' + strD + '"' + '\n\r';
                res += '\n\r';
            }

            d = d.addDays(1);
        }
    }

    d = new Date();

    var strD = '' + padZero(d.getDate()) + '-' + padZero(d.getMonth() + 1) + '-' + d.getFullYear();

    res += 'date ' + strD + '\n\r';
    res += 'git push\n\r';
    res += '\n\r';

    return res;
}